---
title: File Upload
description: A composable, accessible file upload component with drag-and-drop, validation, and progress support.
icon: Upload
---

import { FileUpload, FileUploadSimple, useFileUpload } from "@px-ui/core";
import { ComponentPreview } from "../../../src/components/component-preview";
import {
  BasicDropzoneDemo,
  SingleImageUploadDemo,
  AvatarUploadDemo,
  MultipleImagesGridDemo,
  MultipleFilesListDemo,
  CompactUploadDemo,
  UploadWithProgressDemo,
  InlineImageUploadDemo,
  FilesTableDemo,
  MixedContentCardsDemo,
  DropzoneSizesDemo,
  SimpleUploadDemo,
  SimpleUploadWithS3Demo,
  SimpleButtonVariantDemo,
  SimpleImageGridDemo,
} from "../../../src/components/file-upload-demos";

## Overview

A flexible file upload solution with two approaches:

- **`FileUpload.*`** - UI-only composable components powered by the `useFileUpload` hook
- **`FileUploadSimple`** - Ready-to-use component with built-in state management and upload support

## Installation

```bash
npm install @px-ui/core
```

## Import

```tsx
// Composable components + hook
import { FileUpload, useFileUpload } from "@px-ui/core";

// Simple component with built-in state
import { FileUploadSimple } from "@px-ui/core";
```

---

## FileUploadSimple (Recommended for Quick Setup)

For most use cases, use `FileUploadSimple` - a ready-to-use component with built-in state management and upload support.

### Basic Dropzone

A simple dropzone without upload configuration - useful for client-side file handling.

<ComponentPreview>
  <SimpleUploadDemo />
</ComponentPreview>

```tsx
<FileUploadSimple
  accept="image/*,.pdf,.doc,.docx"
  maxSize={10 * 1024 * 1024}
  onFilesChange={(files) => console.log("Files changed:", files)}
/>
```

---

### With S3 Upload

Auto-upload files to S3 with presigned URLs and progress tracking.

<ComponentPreview>
  <SimpleUploadWithS3Demo />
</ComponentPreview>

```tsx
import { FileUploadSimple } from "@px-ui/core";

function MyUploader() {
  return (
    <FileUploadSimple
      accept="image/*,.pdf"
      multiple
      maxFiles={5}
      maxSize={5 * 1024 * 1024}
      upload={{
        getPresignedUrl: async ({ filename, contentType, size }) => {
          const response = await fetch("/api/get-upload-url", {
            method: "POST",
            body: JSON.stringify({ filename, contentType, size }),
          });
          const data = await response.json();
          return { result: { url: data.url, fullPath: data.fullPath } };
        },
        uploadFile: async (url, file, presignedData, onProgress) => {
          // Upload with progress tracking
          await uploadWithProgress(url, file, onProgress);
          return { result: { url: presignedData.fullPath } };
        },
        onUploadComplete: (file) => console.log("Uploaded:", file),
        onUploadError: (file, error) => console.error("Failed:", file, error),
      }}
      onFilesChange={(files) => console.log("Files:", files)}
    />
  );
}
```

---

### Variants

`FileUploadSimple` supports three variants: `dropzone`, `button`, and `compact`.

<ComponentPreview>
  <SimpleButtonVariantDemo />
</ComponentPreview>

```tsx
// Dropzone (default) - Full drag-and-drop area
<FileUploadSimple variant="dropzone" upload={{ ... }} />

// Button - Simple upload button
<FileUploadSimple
  variant="button"
  buttonText="Upload Files"
  multiple
  upload={{ ... }}
/>

// Compact - Inline button with filename display
<FileUploadSimple
  variant="compact"
  accept=".pdf,.doc,.docx"
  upload={{ ... }}
/>
```

---

### Image Grid Display

For image uploads, show a grid instead of a list.

<ComponentPreview>
  <SimpleImageGridDemo />
</ComponentPreview>

```tsx
<FileUploadSimple
  accept="image/*"
  multiple
  maxFiles={8}
  showImageGrid
  size="sm"
  dropzoneText="Drop images here"
  buttonText="Select images"
  upload={{
    getPresignedUrl: yourGetPresignedUrlFn,
    uploadFile: yourUploadFileFn,
  }}
/>
```

---

### FileUploadSimple Props

| Prop             | Type                                  | Default                             | Description                     |
| ---------------- | ------------------------------------- | ----------------------------------- | ------------------------------- |
| `variant`        | `'dropzone' \| 'button' \| 'compact'` | `'dropzone'`                        | Visual layout variant           |
| `size`           | `'sm' \| 'default' \| 'lg'`           | `'default'`                         | Dropzone size                   |
| `dropzoneText`   | `string`                              | `'Paste Or Drag & Drop Files Here'` | Dropzone text                   |
| `buttonText`     | `string`                              | `'Browse for files'`                | Button text                     |
| `showFileList`   | `boolean`                             | `true`                              | Show file list                  |
| `showImageGrid`  | `boolean`                             | `false`                             | Show image grid instead of list |
| `accept`         | `string`                              | `'*'`                               | Accepted file types             |
| `multiple`       | `boolean`                             | `false`                             | Allow multiple files            |
| `maxSize`        | `number`                              | -                                   | Max file size in bytes          |
| `maxFiles`       | `number`                              | -                                   | Max number of files             |
| `disabled`       | `boolean`                             | `false`                             | Disable the upload              |
| `upload`         | `UploadConfig`                        | -                                   | Upload configuration            |
| `onFilesChange`  | `(files) => void`                     | -                                   | Called when files change        |
| `onError`        | `(error) => void`                     | -                                   | Error callback                  |
| `renderFileItem` | `(file, actions) => ReactNode`        | -                                   | Custom file item renderer       |

---

## useFileUpload Hook

The `useFileUpload` hook provides all the state and actions needed for file upload functionality. Use this hook with the `FileUpload.*` components for full customization.

```tsx
import { useFileUpload, FileUpload } from "@px-ui/core";

function CustomUploader() {
  const [state, actions] = useFileUpload({
    maxFiles: 5,
    maxSize: 10 * 1024 * 1024,
    accept: "image/*,.pdf",
    multiple: true,
    upload: {
      autoUpload: true,
      getPresignedUrl: async ({ filename, contentType, size }) => {
        // Return { result: { url, fullPath }, error? }
      },
      uploadFile: async (url, file, presignedData, onProgress) => {
        // Return { result: { url }, error? }
      },
      onUploadComplete: (file) => {},
      onUploadError: (file, error) => {},
      onAllUploadsComplete: (files) => {},
    },
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      accept="image/*,.pdf"
      multiple
    >
      <FileUpload.Dropzone />
      <FileUpload.ItemList>
        {(files) =>
          files.map((file) => (
            <FileUpload.Item key={file.id} file={file}>
              <FileUpload.ItemPreview />
              <div className="flex flex-col">
                <FileUpload.ItemName />
                <FileUpload.ItemSize />
              </div>
              <FileUpload.ItemRemove />
            </FileUpload.Item>
          ))
        }
      </FileUpload.ItemList>
    </FileUpload.Root>
  );
}
```

### Hook Return Types

```tsx
// State
interface FileUploadWithUploaderState {
  files: FileWithUploadStatus[];
  isDragging: boolean;
  errors: string[];
  isUploading: boolean;
}

// File with upload status
interface FileWithUploadStatus {
  id: string;
  file: File | FileMetadata;
  preview?: string;
  progress: number;
  status: "idle" | "uploading" | "success" | "error";
  error?: string;
  uploadedUrl?: string;
}

// Actions
interface FileUploadWithUploaderActions {
  addFiles: (files: FileList | File[]) => void;
  removeFile: (id: string) => void;
  clearFiles: () => void;
  clearErrors: () => void;
  handleDragEnter: (e: DragEvent) => void;
  handleDragLeave: (e: DragEvent) => void;
  handleDragOver: (e: DragEvent) => void;
  handleDrop: (e: DragEvent) => void;
  handleFileChange: (e: ChangeEvent) => void;
  openFileDialog: () => void;
  getInputProps: (props?) => InputProps;
  uploadFiles: (files?) => Promise<FileWithUploadStatus[]>;
  retryUpload: (id: string) => Promise<void>;
  cancelUpload: (id: string) => void;
}

// Upload config
interface UploadConfig {
  getPresignedUrl: (params: {
    filename: string;
    contentType: string;
    size: number;
  }) => Promise<{
    result?: { url: string; fullPath: string };
    error?: unknown;
  }>;

  uploadFile: (
    url: string,
    file: File,
    presignedData: PresignedUrlResponse,
    onProgress?: (progress: number) => void,
  ) => Promise<{ result?: { url: string }; error?: unknown }>;

  autoUpload?: boolean; // Default: true
  onUploadComplete?: (file: FileWithUploadStatus) => void;
  onUploadError?: (file: FileWithUploadStatus, error: unknown) => void;
  onAllUploadsComplete?: (files: FileWithUploadStatus[]) => void;
}
```

---

## Composable Components (FileUpload.\*)

The `FileUpload.*` components are UI-only and require the `useFileUpload` hook for state management.

## Examples

### Basic Dropzone

The default dropzone with drag-and-drop, paste, and browse button.

<ComponentPreview>
  <BasicDropzoneDemo />
</ComponentPreview>

```tsx
import { FileUpload, useFileUpload } from "@px-ui/core";

function BasicDropzone() {
  const [state, actions] = useFileUpload({
    onFilesChange: (files) => console.log(files),
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
    >
      <FileUpload.Dropzone />
    </FileUpload.Root>
  );
}
```

---

### Single Image Upload with Preview

Upload a single image with full-size preview overlay.

<ComponentPreview>
  <SingleImageUploadDemo />
</ComponentPreview>

```tsx
function SingleImageUpload() {
  const [state, actions] = useFileUpload({
    accept: "image/*",
    maxSize: 5 * 1024 * 1024,
    multiple: false,
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      accept="image/*"
    >
      {state.files.length === 0 ? (
        <FileUpload.Dropzone
          size="sm"
          dropzoneText="Drop your image here"
          browseText="Select image"
        />
      ) : (
        <div className="relative">
          <img
            src={state.files[0].preview}
            alt={state.files[0].file.name}
            className="rounded-ppx-m h-48 w-full object-cover"
          />
          <button
            onClick={actions.clearFiles}
            className="absolute right-2 top-2 rounded-full bg-black/60 p-2 text-white"
          >
            ✕
          </button>
        </div>
      )}
    </FileUpload.Root>
  );
}
```

---

### Avatar Upload

Circular avatar upload with hover state.

<ComponentPreview>
  <AvatarUploadDemo />
</ComponentPreview>

```tsx
function AvatarUpload() {
  const [state, actions] = useFileUpload({
    accept: "image/*",
    multiple: false,
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      accept="image/*"
    >
      <FileUpload.Dropzone
        hideDefaultContent
        className="size-32 min-h-0 rounded-full p-0"
      >
        {state.files.length > 0 ? (
          <img
            src={state.files[0].preview}
            alt="Avatar"
            className="size-full rounded-full object-cover"
          />
        ) : (
          <div className="text-ppx-neutral-10 flex flex-col items-center">
            <UserIcon className="size-10" />
            <span className="text-xs">Upload</span>
          </div>
        )}
      </FileUpload.Dropzone>
    </FileUpload.Root>
  );
}
```

---

### Multiple Images with Grid

Upload multiple images displayed in a responsive grid.

<ComponentPreview>
  <MultipleImagesGridDemo />
</ComponentPreview>

```tsx
function MultipleImagesGrid() {
  const [state, actions] = useFileUpload({
    accept: "image/*",
    maxFiles: 8,
    multiple: true,
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      accept="image/*"
      multiple
    >
      <FileUpload.Dropzone size="sm" />
      <div className="mt-4 flex items-center justify-between">
        <span>Uploaded ({state.files.length}/8)</span>
        <FileUpload.ClearButton>Remove all</FileUpload.ClearButton>
      </div>
      <FileUpload.ImageGrid className="grid-cols-4 gap-2">
        {(files) =>
          files.map((file) => (
            <FileUpload.ImageGridItem key={file.id} file={file} />
          ))
        }
      </FileUpload.ImageGrid>
    </FileUpload.Root>
  );
}
```

---

### Multiple Files with List

Upload multiple files with detailed list view.

<ComponentPreview>
  <MultipleFilesListDemo />
</ComponentPreview>

```tsx
function MultipleFilesList() {
  const [state, actions] = useFileUpload({
    maxFiles: 10,
    multiple: true,
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      multiple
    >
      <FileUpload.Dropzone />
      <FileUpload.ItemList>
        {(files) =>
          files.map((file) => (
            <FileUpload.Item key={file.id} file={file}>
              <FileUpload.ItemPreview />
              <div className="flex flex-col">
                <FileUpload.ItemName />
                <FileUpload.ItemSize />
              </div>
              <FileUpload.ItemRemove />
            </FileUpload.Item>
          ))
        }
      </FileUpload.ItemList>
    </FileUpload.Root>
  );
}
```

---

### Compact Button Upload

A simple button trigger without dropzone.

<ComponentPreview>
  <CompactUploadDemo />
</ComponentPreview>

```tsx
function CompactUpload() {
  const [state, actions] = useFileUpload({
    accept: ".pdf,.doc,.docx",
    multiple: false,
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      accept=".pdf,.doc,.docx"
    >
      <div className="flex items-center gap-3">
        <FileUpload.Trigger variant="outline" size="sm">
          <UploadIcon className="size-4" />
          Upload document
        </FileUpload.Trigger>
        {state.files.length > 0 && <span>{state.files[0].file.name}</span>}
      </div>
    </FileUpload.Root>
  );
}
```

---

### Upload with Progress

Files with upload progress indicator.

<ComponentPreview>
  <UploadWithProgressDemo />
</ComponentPreview>

```tsx
function UploadWithProgress() {
  const [state, actions] = useFileUpload({
    multiple: true,
    upload: {
      autoUpload: true,
      getPresignedUrl: async ({ filename }) => ({
        result: {
          url: `https://example.com/upload/${filename}`,
          fullPath: `https://cdn.example.com/${filename}`,
        },
      }),
      uploadFile: async (url, file, presignedData, onProgress) => {
        // Simulate upload with progress
        for (let i = 0; i <= 100; i += 5) {
          await new Promise((r) => setTimeout(r, 100));
          onProgress?.(i);
        }
        return { result: { url: presignedData.fullPath } };
      },
    },
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      multiple
    >
      <FileUpload.Dropzone size="sm" />
      <FileUpload.ItemList>
        {(files) =>
          files.map((file) => (
            <FileUpload.Item key={file.id} file={file}>
              <FileUpload.ItemPreview />
              <div className="flex flex-1 flex-col gap-1">
                <div className="flex justify-between">
                  <FileUpload.ItemName />
                  <span>{file.progress}%</span>
                </div>
                <FileUpload.ItemProgress />
              </div>
              <FileUpload.ItemRemove />
            </FileUpload.Item>
          ))
        }
      </FileUpload.ItemList>
    </FileUpload.Root>
  );
}
```

---

### Inline Image Upload

Compact inline image picker with add button.

<ComponentPreview>
  <InlineImageUploadDemo />
</ComponentPreview>

```tsx
function InlineImageUpload() {
  const [state, actions] = useFileUpload({
    accept: "image/*",
    maxFiles: 4,
    multiple: true,
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      accept="image/*"
      multiple
    >
      <div className="flex flex-wrap gap-2">
        {state.files.map((file) => (
          <div key={file.id} className="rounded-ppx-s relative size-16">
            <img src={file.preview} className="size-full object-cover" />
            <button onClick={() => actions.removeFile(file.id)}>✕</button>
          </div>
        ))}
        {state.files.length < 4 && (
          <FileUpload.Dropzone
            hideDefaultContent
            className="rounded-ppx-s size-16 min-h-0 border-2 border-dashed p-0"
          >
            <PlusIcon className="size-6" />
          </FileUpload.Dropzone>
        )}
      </div>
    </FileUpload.Root>
  );
}
```

---

### Files Table

Display uploaded files in a table format.

<ComponentPreview>
  <FilesTableDemo />
</ComponentPreview>

```tsx
function FilesTable() {
  const [state, actions] = useFileUpload({
    maxFiles: 10,
    multiple: true,
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      multiple
    >
      <FileUpload.Dropzone size="sm" />
      <div className="rounded-ppx-s border">
        <div className="bg-ppx-neutral-2 flex justify-between p-2">
          <span>Files ({state.files.length})</span>
          <FileUpload.Trigger size="sm">Add files</FileUpload.Trigger>
        </div>
        <table className="w-full">
          <thead>
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th>Size</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {state.files.map((file) => (
              <tr key={file.id}>
                <td>{file.file.name}</td>
                <td>{getExtension(file.file.name)}</td>
                <td>{formatFileSize(file.file.size)}</td>
                <td>
                  <button onClick={() => actions.removeFile(file.id)}>
                    Delete
                  </button>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </FileUpload.Root>
  );
}
```

---

### Mixed Content Cards

Display mixed file types in card grid.

<ComponentPreview>
  <MixedContentCardsDemo />
</ComponentPreview>

```tsx
function MixedContentCards() {
  const [state, actions] = useFileUpload({
    multiple: true,
  });

  return (
    <FileUpload.Root
      files={state.files}
      addFiles={actions.addFiles}
      removeFile={actions.removeFile}
      clearFiles={actions.clearFiles}
      openFileDialog={actions.openFileDialog}
      getInputProps={actions.getInputProps}
      handleDragEnter={actions.handleDragEnter}
      handleDragLeave={actions.handleDragLeave}
      handleDragOver={actions.handleDragOver}
      handleDrop={actions.handleDrop}
      isDragActive={state.isDragging}
      multiple
    >
      <FileUpload.Dropzone size="sm" />
      <div className="grid grid-cols-2 gap-3">
        {state.files.map((file) => (
          <div key={file.id} className="rounded-ppx-s border">
            {file.preview ? (
              <img src={file.preview} className="h-24 w-full object-cover" />
            ) : (
              <div className="flex h-24 items-center justify-center">
                <FileIcon type={file.file.type} />
              </div>
            )}
            <div className="p-2">
              <p className="truncate text-sm">{file.file.name}</p>
              <p className="text-ppx-neutral-10 text-xs">
                {formatFileSize(file.file.size)}
              </p>
            </div>
          </div>
        ))}
      </div>
    </FileUpload.Root>
  );
}
```

---

### Dropzone Sizes

Available size variants for the dropzone.

<ComponentPreview className="min-h-[600px]">
  <DropzoneSizesDemo />
</ComponentPreview>

```tsx
<FileUpload.Dropzone size="sm" />  // Small
<FileUpload.Dropzone size="default" />  // Default
<FileUpload.Dropzone size="lg" />  // Large
```

---

## Component Parts

| Component                  | Description                           |
| -------------------------- | ------------------------------------- |
| `FileUpload.Root`          | Context provider, receives hook props |
| `FileUpload.Dropzone`      | Drag-and-drop area with default UI    |
| `FileUpload.Trigger`       | Standalone button to open file picker |
| `FileUpload.ItemList`      | Container for file items              |
| `FileUpload.Item`          | Individual file item wrapper          |
| `FileUpload.ItemPreview`   | Thumbnail/preview for files           |
| `FileUpload.ItemName`      | File name display                     |
| `FileUpload.ItemSize`      | File size display                     |
| `FileUpload.ItemRemove`    | Remove file button                    |
| `FileUpload.ItemProgress`  | Progress bar for uploads              |
| `FileUpload.ClearButton`   | Remove all files button               |
| `FileUpload.ImageGrid`     | Grid layout for images                |
| `FileUpload.ImageGridItem` | Image grid item with remove           |

---

## Validation

Validation is handled by the `useFileUpload` hook:

### File Type Restriction

```tsx
const [state, actions] = useFileUpload({
  accept: "image/*,.pdf",
});

// Check errors
if (state.errors.length > 0) {
  console.error(state.errors);
}
```

### File Size Limit

```tsx
const [state, actions] = useFileUpload({
  maxSize: 5 * 1024 * 1024, // 5MB
});
```

### Max Files Limit

```tsx
const [state, actions] = useFileUpload({
  multiple: true,
  maxFiles: 5,
});
```

---

## API Reference

### FileUpload.Root

| Prop              | Type                                  | Required | Description                  |
| ----------------- | ------------------------------------- | -------- | ---------------------------- |
| `files`           | `FileUploadFile[]`                    | Yes      | Files from hook state        |
| `addFiles`        | `(files: FileList \| File[]) => void` | Yes      | Add files action from hook   |
| `removeFile`      | `(id: string) => void`                | Yes      | Remove file action from hook |
| `clearFiles`      | `() => void`                          | Yes      | Clear files action from hook |
| `openFileDialog`  | `() => void`                          | Yes      | Open file dialog from hook   |
| `getInputProps`   | `(props?) => InputProps`              | Yes      | Get input props from hook    |
| `handleDragEnter` | `(e: DragEvent) => void`              | Yes      | Drag enter handler from hook |
| `handleDragLeave` | `(e: DragEvent) => void`              | Yes      | Drag leave handler from hook |
| `handleDragOver`  | `(e: DragEvent) => void`              | Yes      | Drag over handler from hook  |
| `handleDrop`      | `(e: DragEvent) => void`              | Yes      | Drop handler from hook       |
| `isDragActive`    | `boolean`                             | No       | Whether dragging is active   |
| `accept`          | `string`                              | No       | Accepted file types          |
| `multiple`        | `boolean`                             | No       | Allow multiple files         |
| `disabled`        | `boolean`                             | No       | Disable the upload           |

### FileUpload.Dropzone

| Prop                 | Type                        | Default                             | Description          |
| -------------------- | --------------------------- | ----------------------------------- | -------------------- |
| `size`               | `'sm' \| 'default' \| 'lg'` | `'default'`                         | Dropzone size        |
| `dropzoneText`       | `string`                    | `'Paste Or Drag & Drop Files Here'` | Dropzone text        |
| `browseText`         | `string`                    | `'Browse for files'`                | Browse button text   |
| `hideDefaultContent` | `boolean`                   | `false`                             | Hide default content |

### Types

```tsx
interface FileUploadFile {
  id: string;
  file: File | { name: string; size: number; type: string };
  progress?: number;
  status?: "idle" | "uploading" | "success" | "error";
  preview?: string;
  error?: string;
  uploadedUrl?: string;
}
```

---

## Accessibility

- Keyboard navigation with Enter/Space to open file picker
- `aria-live` announcements for file selections and errors
- Proper ARIA attributes on all interactive elements
- Focus management and visible focus indicators
- Screen reader instructions for usage

---

## Best Practices

- **Use the hook**: Always use `useFileUpload` with `FileUpload.*` components
- **Provide clear constraints**: Pass validation options to the hook
- **Show progress**: Use `ItemProgress` for upload feedback
- **Handle errors**: Check `state.errors` for validation messages
- **Preview images**: The hook auto-generates previews for images
- **Clean up**: Previews are automatically cleaned up when files are removed
