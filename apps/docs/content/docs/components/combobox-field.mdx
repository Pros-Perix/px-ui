---
title: Combobox Field
description: A simplified combobox component wrapper with searchable selections, multi-select support, and async data loading
apiReference: https://base-ui.com/react/components/combobox
---

import ComboboxFieldBasicDemo from "../../../src/components/combobox-field-basic-demo.tsx";
import ComboboxFieldMultipleDemo from "../../../src/components/combobox-field-multiple-demo.tsx";
import ComboboxFieldAsyncDemo from "../../../src/components/combobox-field-async-demo.tsx";
import ComboboxFieldSizesDemo from "../../../src/components/combobox-field-sizes-demo.tsx";
import ComboboxFieldSearchPopupDemo from "../../../src/components/combobox-field-search-popup-demo.tsx";

## Overview

ComboboxField is a simplified wrapper around the Combobox component that streamlines searchable selection use cases. It automatically handles item rendering, label detection, search functionality, and supports both single and multiple selections with async data loading. For more complex scenarios requiring custom sub-component composition, use the full Combobox component from `@px-ui/core`.

## Import

```tsx
import { ComboboxField } from "@px-ui/forms";
```

## Usage

<Preview>
  <ComboboxFieldBasicDemo />
</Preview>

```tsx
import { ComboboxField } from "@px-ui/forms";
import { useState } from "react";

interface Fruit {
  id: string;
  label: string;
}

export default function Example() {
  const [value, setValue] = useState<Fruit | null>(null);

  const items: Fruit[] = [
    { id: "apple", label: "Apple" },
    { id: "banana", label: "Banana" },
    { id: "orange", label: "Orange" },
    { id: "mango", label: "Mango" },
    { id: "grape", label: "Grape" },
  ];

  return (
    <ComboboxField
      items={items}
      value={value}
      onValueChange={setValue}
      placeholder="Search for a fruit..."
    />
  );
}
```

## Examples

### Multiple Selection

Enable multi-select with the `multiple` prop. Selected items appear as removable chips.

<Preview>
  <ComboboxFieldMultipleDemo />
</Preview>

```tsx
import { ComboboxField } from "@px-ui/forms";
import { useState } from "react";

interface Framework {
  id: string;
  label: string;
}

export default function Example() {
  const [value, setValue] = useState<Framework[]>([]);

  const items: Framework[] = [
    { id: "react", label: "React" },
    { id: "vue", label: "Vue" },
    { id: "angular", label: "Angular" },
    { id: "svelte", label: "Svelte" },
    { id: "solid", label: "Solid" },
  ];

  return (
    <ComboboxField
      items={items}
      value={value}
      onValueChange={setValue}
      multiple
      placeholder="Search frameworks..."
    />
  );
}
```

### Async Data Loading

Use `loadOptions` with `defineLoadOptions` to fetch data dynamically based on the search query. This provides built-in caching via React Query.

<Preview>
  <ComboboxFieldAsyncDemo />
</Preview>

```tsx
import { ComboboxField } from "@px-ui/forms";
import { defineLoadOptions } from "@px-ui/core";
import { useState } from "react";

interface User {
  id: number;
  name: string;
  email: string;
}

// Define async options loader with caching
const userOptions = defineLoadOptions<User>({
  cacheKey: ["users"],
  loader: async ({ search, page, signal }) => {
    // Fetch from your API
    const response = await fetch(`/api/users?q=${search}&page=${page}`, {
      signal,
    });
    const data = await response.json();

    return {
      data: { options: data.users, hasMore: data.hasMore },
      error: null,
    };
  },
});

export default function Example() {
  const [value, setValue] = useState<User | null>(null);

  return (
    <ComboboxField
      loadOptions={userOptions}
      value={value}
      onValueChange={setValue}
      placeholder="Search users..."
      renderLabel={(user) => user.name}
      renderOption={(user) => (
        <div className="flex flex-col">
          <span className="font-medium">{user.name}</span>
          <span className="text-sm text-gray-11">{user.email}</span>
        </div>
      )}
    />
  );
}
```

### Sizes

Control the size of the combobox field using the `size` prop.

<Preview>
  <ComboboxFieldSizesDemo />
</Preview>

```tsx
import { ComboboxField } from "@px-ui/forms";
import { useState } from "react";

interface Size {
  id: string;
  label: string;
}

export default function Example() {
  const [defaultValue, setDefaultValue] = useState<Size | null>(null);
  const [smallValue, setSmallValue] = useState<Size | null>(null);

  const items: Size[] = [
    { id: "xs", label: "Extra Small" },
    { id: "sm", label: "Small" },
    { id: "md", label: "Medium" },
    { id: "lg", label: "Large" },
  ];

  return (
    <div className="flex flex-col gap-4">
      <ComboboxField
        items={items}
        value={defaultValue}
        onValueChange={setDefaultValue}
        placeholder="Default size"
        size="default"
      />
      <ComboboxField
        items={items}
        value={smallValue}
        onValueChange={setSmallValue}
        placeholder="Small size"
        size="sm"
      />
    </div>
  );
}
```

### Search in Popup

Display the search input inside the dropdown instead of the trigger by using `searchInPopup`.

<Preview>
  <ComboboxFieldSearchPopupDemo />
</Preview>

```tsx
import { ComboboxField } from "@px-ui/forms";
import { useState } from "react";

interface Language {
  id: string;
  label: string;
}

export default function Example() {
  const [value, setValue] = useState<Language[]>([]);

  const items: Language[] = [
    { id: "typescript", label: "TypeScript" },
    { id: "javascript", label: "JavaScript" },
    { id: "python", label: "Python" },
  ];

  return (
    <ComboboxField
      items={items}
      value={value}
      onValueChange={setValue}
      multiple
      searchInPopup
      placeholder="Select languages"
    />
  );
}
```

## API Reference

### ComboboxField

The main combobox field component that wraps the Combobox component from `@px-ui/core`.

#### Custom Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `items` | `ReadonlyArray<TItem>` | - | Array of items to display. Required if not using `loadOptions` |
| `loadOptions` | `LoadOptionsConfig<TItem>` | - | Async options loader configuration created with `defineLoadOptions`. Provides search, pagination, and caching support. If provided, `items` prop is not required |
| `renderLabel` | `(item: TItem) => React.ReactNode` (single) or `(items: TItem[]) => React.ReactNode` (multiple) | - | Function to render the label in the trigger for the selected item(s). For single select, receives a single item. For multiple select, receives an array of items. If not provided and item has a `label` property, it will be used automatically |
| `renderOption` | `(item: TItem) => React.ReactNode` | - | Function to render each option in the dropdown. If not provided and item has a `label` property, it will be used automatically |
| `renderChip` | `(item: TItem) => React.ReactNode \| string` | - | Function to render each chip in ChipsTrigger (multiple selection only). If not provided, renderLabel or auto-detected label will be used |
| `placeholder` | `string` | - | Placeholder text when no value is selected |
| `searchInPopup` | `boolean` | `false` | Show search input inside the popup instead of in the trigger |
| `size` | `"default" \| "sm"` | `"default"` | Size variant for the trigger |
| `widthVariant` | `"enforced" \| "full"` | `"full"` | Width variant for the trigger |
| `contentWidthVariant` | `"trigger" \| "fit" \| "enforced"` | `"trigger"` | Width variant for the dropdown content |
| `triggerClassName` | `string` | - | Additional CSS classes for the trigger element |
| `contentProps` | `Omit<React.ComponentProps<typeof Combobox.Content>, 'children' \| 'widthVariant' \| 'empty'>` | - | Additional props for Combobox.Content component |

#### Inherited Props from Combobox.Root

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `value` * | `TItem \| TItem[] \| null` | - | The current selected value(s). The type matches your item type |
| `onValueChange` * | `(value: TItem \| TItem[] \| null) => void` | - | Callback fired when the selected value changes |
| `multiple` | `boolean` | `false` | Whether multiple items can be selected |
| `disabled` | `boolean` | `false` | Whether the combobox is disabled |
| `invalid` | `boolean` | `false` | Whether the combobox is in an invalid state |
| `readOnly` | `boolean` | `false` | Whether the combobox is read-only |
| `isItemEqualToValue` | `(item: TItem, value: TItem) => boolean` | - | Custom equality function to compare items. By default, uses strict equality |
| `inputRef` | `React.Ref<HTMLInputElement>` | - | Ref to the hidden input element used for form submission |

_* Required prop_

## Notes

- For single selection, ComboboxField uses `SearchableTrigger` by default, allowing inline search
- For multiple selection, ComboboxField uses `ChipsTrigger` by default, displaying selected items as removable chips
- When `searchInPopup` is true, a regular `Trigger` is used and search appears in the dropdown
- ComboboxField automatically detects `label`, `id`, or `value` properties from items for key generation and display
- The component is fully type-safe and infers the item type from the `items` array or `loadOptions` return type
- For complex layouts or custom sub-component composition, use the full `Combobox` component from `@px-ui/core`
